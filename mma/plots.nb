Notebook[{

Cell[CellGroupData[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "\"\<Global`*\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}], "\n", 
 RowBox[{"NotebookDirectory", "[", "]"}], "\n", 
 RowBox[{
  RowBox[{"Off", "[", 
   RowBox[{"Needs", "::", "nocont"}], "]"}], ";", 
  RowBox[{"Needs", "[", "\"\<LowDiscrep`\>\"", "]"}], ";", " ", 
  RowBox[{"Needs", "[", "\"\<plots`\>\"", "]"}], ";", " ", 
  RowBox[{"On", "[", 
   RowBox[{"Needs", "::", "nocont"}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"SetOptions", "[", 
   RowBox[{"Plot", ",", " ", 
    RowBox[{"Frame", "\[Rule]", "True"}], ",", " ", 
    RowBox[{"Axes", "\[Rule]", "False"}], ",", " ", 
    RowBox[{"FrameStyle", "\[Rule]", "Thick"}], ",", " ", 
    RowBox[{"ImageSize", "\[Rule]", 
     RowBox[{"8", "*", "72"}]}], ",", " ", 
    RowBox[{"LabelStyle", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"FontSize", "\[Rule]", "25"}], "}"}]}]}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"SetOptions", "[", 
   RowBox[{"ListPlot", ",", " ", 
    RowBox[{"Frame", "\[Rule]", "True"}], ",", " ", 
    RowBox[{"Axes", "\[Rule]", "False"}], ",", " ", 
    RowBox[{"FrameStyle", "\[Rule]", "Thick"}], ",", " ", 
    RowBox[{"ImageSize", "\[Rule]", 
     RowBox[{"8", "*", "72"}]}], ",", " ", 
    RowBox[{"LabelStyle", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"FontSize", "\[Rule]", "25"}], "}"}]}]}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"SeedRandom", "[", "1234", "]"}], ";"}]}], "Code",
 InitializationCell->True],

Cell[BoxData["\<\"/Users/npadmana/myWork/lowdiscrepancyRR/mma/\"\>"], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Sec 2", "Section"],

Cell[CellGroupData[{

Cell["\<\
1D low discrepancy vs regular comparisons\
\>", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"npts", " ", "=", " ", "50"}], ";"}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"region1d", "=", 
   RowBox[{"Graphics", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"Gray", ",", " ", 
       RowBox[{"Opacity", "[", "0.5", "]"}], ",", 
       RowBox[{"Polygon", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0.0", ",", "0.0"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"0.2", ",", "0"}], "}"}], ",", " ", 
          RowBox[{"{", 
           RowBox[{"1.0", ",", " ", "0.8"}], "}"}], ",", " ", 
          RowBox[{"{", 
           RowBox[{"1.0", ",", "1.0"}], "}"}], ",", " ", 
          RowBox[{"{", 
           RowBox[{"0.8", ",", " ", "1.0"}], "}"}], ",", " ", 
          RowBox[{"{", 
           RowBox[{"0.0", ",", "0.2"}], "}"}]}], "}"}], "]"}]}], "}"}], ",", 
     " ", 
     RowBox[{"AspectRatio", "\[Rule]", "1"}], ",", " ", 
     RowBox[{"PlotRangePadding", "\[Rule]", "None"}], ",", " ", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "1"}], "}"}]}], "}"}]}], ",", " ", 
     RowBox[{"ImagePadding", "\[Rule]", "None"}]}], "]"}]}], ";"}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"rr1", " ", "=", " ", 
   RowBox[{"ListPlot", "[", 
    RowBox[{
     RowBox[{"generateRandomGrid", "[", "npts", "]"}], ",", " ", 
     RowBox[{"AspectRatio", "\[Rule]", "1"}], ",", " ", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "1"}], "}"}]}], "}"}]}], ",", " ", 
     RowBox[{"Prolog", "\[Rule]", 
      RowBox[{"Inset", "[", 
       RowBox[{"region1d", ",", " ", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1", ",", "1"}], "}"}]}], "]"}]}], ",", " ", 
     RowBox[{"PlotRangePadding", "\[Rule]", "0.01"}]}], "]"}]}], 
  ";"}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"rr2", " ", "=", " ", 
   RowBox[{"ListPlot", "[", 
    RowBox[{
     RowBox[{"RandomReal", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         SuperscriptBox["npts", "2"], ",", "2"}], "}"}]}], "]"}], ",", " ", 
     RowBox[{"AspectRatio", "\[Rule]", "1"}], ",", " ", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "1"}], "}"}]}], "}"}]}], ",", " ", 
     RowBox[{"Prolog", "\[Rule]", 
      RowBox[{"Inset", "[", 
       RowBox[{"region1d", ",", " ", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1", ",", "1"}], "}"}]}], "]"}]}], ",", " ", 
     RowBox[{"PlotRangePadding", "\[Rule]", "0.01"}]}], "]"}]}], 
  ";"}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"rr3", " ", "=", " ", 
   RowBox[{"ListPlot", "[", 
    RowBox[{
     RowBox[{"generateLDSGrid", "[", 
      SuperscriptBox["npts", "2"], "]"}], ",", " ", 
     RowBox[{"AspectRatio", "\[Rule]", "1"}], ",", " ", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "1"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "1"}], "}"}]}], "}"}]}], ",", " ", 
     RowBox[{"Prolog", "\[Rule]", 
      RowBox[{"Inset", "[", 
       RowBox[{"region1d", ",", " ", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1", ",", "1"}], "}"}]}], "]"}]}], ",", " ", 
     RowBox[{"PlotRangePadding", "\[Rule]", "0.01"}]}], "]"}]}], 
  ";"}]], "Input"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"gg", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{"#1", ",", " ", 
       RowBox[{"#1", "+", 
        RowBox[{"#2", "*", "0.4"}], "-", "0.2"}]}], "}"}], " ", "&"}], "@@@", 
    
    RowBox[{"generateLDSGrid", "[", 
     SuperscriptBox["npts", "2"], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rr4", " ", "=", " ", 
   RowBox[{"ListPlot", "[", 
    RowBox[{"gg", ",", " ", 
     RowBox[{"AspectRatio", "\[Rule]", "1.4"}], ",", " ", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0.0", ",", "1.0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "0.2"}], ",", "1.2"}], "}"}]}], "}"}]}], ",", " ", 
     RowBox[{"Prolog", "\[Rule]", 
      RowBox[{"Inset", "[", 
       RowBox[{"region1d", ",", " ", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1", ",", "1"}], "}"}]}], "]"}]}], ",", " ", 
     RowBox[{"PlotRangePadding", "\[Rule]", "0.01"}]}], "]"}]}], 
  ";"}]}], "Input"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<../tex/plots/grid1d-1.pdf\>\"", ",", " ", "rr1"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<../tex/plots/grid1d-2.pdf\>\"", ",", " ", "rr2"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<../tex/plots/grid1d-3.pdf\>\"", ",", " ", "rr3"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<../tex/plots/grid1d-4.pdf\>\"", ",", " ", "rr4"}], "]"}], 
  ";"}]}], "Input"],

Cell[BoxData[
 RowBox[{"Clear", "[", 
  RowBox[{
  "gg", ",", " ", "rr1", ",", " ", "rr2", ",", " ", "rr3", ",", " ", "rr4", 
   ",", " ", "region1d"}], "]"}]], "Input"]
}, Closed]],

Cell["1D interval comparison tests", "Subsection"],

Cell["Angular cap convergence tests", "Subsection"],

Cell["3D Box comparison tests", "Subsection"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Sec 3", "Section"],

Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
  "Make", " ", "a", " ", "map", " ", "of", " ", "the", " ", "DEEP2", " ", 
   "mask"}], " ", "*)"}]], "Input"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"deep2", " ", "=", " ", 
   RowBox[{"Import", "[", 
    RowBox[{"\"\<../data/deep2/windowf.31.fits\>\"", ",", "\"\<RawData\>\""}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"deep2meta", " ", "=", " ", 
   RowBox[{"Import", "[", 
    RowBox[{
    "\"\<../data/deep2/windowf.31.fits\>\"", ",", "\"\<Metadata\>\""}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"deep2", " ", "=", " ", 
   RowBox[{"Flatten", "[", 
    RowBox[{"deep2", ",", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "2"}], "}"}], ",", 
       RowBox[{"{", "3", "}"}]}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"limits", " ", "=", " ", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\"\<RALIM0\>\"", ",", " ", "\"\<DECLIM0\>\""}], "}"}], ",", 
        " ", 
        RowBox[{"{", 
         RowBox[{"\"\<RALIM1\>\"", ",", " ", "\"\<DECLIM1\>\""}], "}"}]}], 
       "}"}], "/.", " ", "deep2meta"}], ")"}], "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "All", ",", "1"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ndim", " ", "=", " ", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\"\<NRA\>\"", ",", "\"\<NDEC\>\""}], "}"}], "/.", 
      "deep2meta"}], ")"}], "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "1"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dlim", " ", "=", " ", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"limits", "[", 
       RowBox[{"[", "2", "]"}], "]"}], " ", "-", " ", 
      RowBox[{"limits", "[", 
       RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", "ndim"}]}], 
  ";"}]}], "Input"],

Cell[CellGroupData[{

Cell[BoxData[{"ndim", "\[IndentingNewLine]", 
 RowBox[{"plotlim", " ", "=", " ", 
  RowBox[{
   SuperscriptBox["limits", "\[Transpose]"], "-", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"351.5", ",", "351.5"}], "}"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}]}], "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"size", " ", "=", " ", 
  RowBox[{
   RowBox[{
    SuperscriptBox["plotlim", "\[Transpose]"], "[", 
    RowBox[{"[", "2", "]"}], "]"}], " ", "-", " ", 
   RowBox[{
    SuperscriptBox["plotlim", "\[Transpose]"], "[", 
    RowBox[{"[", "1", "]"}], "]"}]}]}]}], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1500", ",", "1000"}], "}"}]], "Output"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.12979125999999042`"}], ",", "0.5830688479999822`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.10343208164`"}], ",", "0.377049505711`"}], "}"}]}], 
  "}"}]], "Output"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.7128601079999726`", ",", "0.480481587351`"}], "}"}]], "Output"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"p1", " ", "=", " ", 
   RowBox[{"ArrayPlot", "[", 
    RowBox[{"deep2", ",", " ", 
     RowBox[{"Frame", "\[Rule]", "False"}], ",", " ", 
     RowBox[{"PlotRangePadding", "\[Rule]", "None"}], ",", " ", 
     RowBox[{"DataReversed", "\[Rule]", "True"}]}], "]"}]}], ";"}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"p2", " ", "=", " ", 
   RowBox[{"Plot", "[", 
    RowBox[{"None", ",", " ", 
     RowBox[{"{", 
      RowBox[{"x", ",", " ", 
       RowBox[{"limits", "[", 
        RowBox[{"[", 
         RowBox[{"1", ",", "1"}], "]"}], "]"}], ",", " ", 
       RowBox[{"limits", "[", 
        RowBox[{"[", 
         RowBox[{"2", ",", "1"}], "]"}], "]"}]}], "}"}], ",", " ", 
     RowBox[{"PlotRange", "\[Rule]", "plotlim"}], ",", " ", 
     RowBox[{"FrameTicks", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
       "Automatic", ",", " ", "Automatic", ",", " ", "Automatic", ",", " ", 
        "Automatic"}], "}"}]}], ",", " ", 
     RowBox[{"PlotRangePadding", "\[Rule]", "0.005"}], ",", " ", 
     RowBox[{"FrameLabel", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"\"\<RA-351.5\>\"", ",", "\"\<Dec\>\""}], "}"}]}], ",", " ", 
     RowBox[{"AspectRatio", "\[Rule]", 
      RowBox[{"2", "/", "3"}]}], ",", " ", 
     RowBox[{"Epilog", "\[Rule]", 
      RowBox[{"Inset", "[", 
       RowBox[{"p1", ",", " ", 
        RowBox[{
         SuperscriptBox["plotlim", "\[Transpose]"], "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", " ", "size"}], "]"}]}]}], 
    "]"}]}], ";"}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<../tex/plots/deep2mask.pdf\>\"", ",", " ", "p2"}], "]"}], 
  ";"}]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Scratch", "Section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"processbin", "[", 
  RowBox[{"\"\<../data/deep2/rrdump\>\"", ",", "4", ",", " ", 
   RowBox[{"{", "16384000", "}"}]}], "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{"16384000", ",", 
    RowBox[{"{", 
     RowBox[{
     "0.2637221292198052`", ",", "0.000024076350637353718`", ",", 
      "0.00009129438894104612`"}], "}"}]}], "}"}], "}"}]], "Output"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1356, 1156},
WindowMargins->{{226, Automatic}, {Automatic, 0}},
PrivateNotebookOptions->{"VersionedStylesheet"->{"Default.nb"[8.] -> False}},
FrontEndVersion->"9.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (November 20, \
2012)",
StyleDefinitions->"Default.nb"
]

